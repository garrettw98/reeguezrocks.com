<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Festival Schedule Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid black; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .headliner { background-color: #ffe6e6; }
    </style>
</head>
<body>
    <h1>Basic Festival Schedule Calculator</h1>
    <div>
        <label for="mainStageEnd">Main Stage End Time:</label>
        <input type="time" id="mainStageEnd" value="02:00">
        <label for="mainStageBudget">Main Stage Budget:</label>
        <input type="number" id="mainStageBudget" value="10000">
    </div>
    <table id="scheduleTable">
        <thead>
            <tr>
                <th>Time</th>
                <th>Main Stage Fee</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        function calculateSchedule(end, budget) {
            const endTime = new Date(`2000-01-02T${end}`);
            const slots = [];
            let currentTime = new Date(endTime);

            while (currentTime.getHours() > 12 || (currentTime.getHours() === 12 && currentTime.getMinutes() > 0)) {
                const slotStart = new Date(currentTime.getTime() - 90 * 60000);
                slots.unshift({
                    start: slotStart.toTimeString().slice(0, 5),
                    end: currentTime.toTimeString().slice(0, 5)
                });
                currentTime = slotStart;
            }

            const feePerSlot = budget / slots.length;
            return slots.map((slot, index) => ({
                ...slot,
                fee: Math.round(feePerSlot),
                isHeadliner: index === slots.length - 1
            }));
        }

        function updateSchedule() {
            const mainStageEnd = document.getElementById('mainStageEnd').value;
            const mainStageBudget = parseInt(document.getElementById('mainStageBudget').value);

            const schedule = calculateSchedule(mainStageEnd, mainStageBudget);

            const tableBody = document.querySelector('#scheduleTable tbody');
            tableBody.innerHTML = '';

            schedule.forEach(slot => {
                const row = tableBody.insertRow();
                row.insertCell().textContent = `${slot.start} - ${slot.end}`;
                const feeCell = row.insertCell();
                feeCell.textContent = `$${slot.fee.toLocaleString()}`;
                if (slot.isHeadliner) {
                    feeCell.classList.add('headliner');
                }
            });
        }

        document.getElementById('mainStageEnd').addEventListener('change', updateSchedule);
        document.getElementById('mainStageBudget').addEventListener('change', updateSchedule);

        updateSchedule();
    </script>
</body>
</html>
